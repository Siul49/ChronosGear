# Unity 개발 로드맵 (Development Roadmap)

> Chronos Gear 유니티 개발 단계별 계획서

---

## 프로젝트 개요

| 항목 | 내용 |
|------|------|
| **엔진** | Unity 2022.3 LTS (권장) |
| **장르** | 2D 탑다운 액션 어드벤처 |
| **렌더링** | URP (Universal Render Pipeline) |
| **입력** | New Input System |
| **예상 개발기간** | 12-18개월 (팀 규모에 따라 변동) |

---

## 개발 단계 개요

```
┌─────────────────────────────────────────────────────────────────┐
│  Phase 0: 프로젝트 셋업 (2주)                                   │
├─────────────────────────────────────────────────────────────────┤
│  Phase 1: 코어 메카닉 (6주)                                     │
│  - 이동/공격/스킬 시스템                                        │
├─────────────────────────────────────────────────────────────────┤
│  Phase 2: 전투 시스템 (4주)                                     │
│  - 적/보스, 데미지 계산, 상태이상                               │
├─────────────────────────────────────────────────────────────────┤
│  Phase 3: 레벨 디자인 (6주)                                     │
│  - 맵 제작, 퍼즐, 기믹                                          │
├─────────────────────────────────────────────────────────────────┤
│  Phase 4: 스토리/연출 (4주)                                     │
│  - 대화 시스템, 컷신, 분기                                      │
├─────────────────────────────────────────────────────────────────┤
│  Phase 5: 폴리싱/QA (4-6주)                                     │
│  - 밸런싱, 버그 수정, 최적화                                    │
└─────────────────────────────────────────────────────────────────┘
```

---

## Phase 0: 프로젝트 셋업 (2주)

### Week 1: 환경 구축
| 태스크 | 담당 | 산출물 |
|--------|------|--------|
| Unity 프로젝트 생성 | 프로그래머 | 프로젝트 폴더 |
| Git 저장소 설정 | 프로그래머 | .gitignore, 브랜치 전략 |
| URP 설정 | 프로그래머 | 렌더 파이프라인 에셋 |
| New Input System 설정 | 프로그래머 | InputAction 에셋 |
| 폴더 구조 정의 | 프로그래머 | 아키텍처 문서 |

### Week 2: 기반 시스템
| 태스크 | 담당 | 산출물 |
|--------|------|--------|
| 씬 매니저 | 프로그래머 | SceneManager.cs |
| 게임 매니저 | 프로그래머 | GameManager.cs (싱글톤) |
| 이벤트 시스템 | 프로그래머 | EventBus.cs |
| 오브젝트 풀 | 프로그래머 | ObjectPool.cs |
| 세이브/로드 기반 | 프로그래머 | SaveSystem.cs |

### 권장 폴더 구조
```
Assets/
├── _Project/
│   ├── Scripts/
│   │   ├── Core/           # 매니저, 유틸
│   │   ├── Player/         # 플레이어 관련
│   │   ├── Enemy/          # 적 관련
│   │   ├── Combat/         # 전투 시스템
│   │   ├── UI/             # UI 스크립트
│   │   └── Dialogue/       # 대화 시스템
│   ├── Prefabs/
│   ├── Scenes/
│   ├── ScriptableObjects/
│   └── Data/               # JSON, 설정 파일
├── Art/
│   ├── Sprites/
│   ├── Animations/
│   └── UI/
└── Audio/
    ├── BGM/
    └── SFX/
```

---

## Phase 1: 코어 메카닉 (6주)

### Week 1-2: 플레이어 기본
| 태스크 | 우선순위 | 참조 문서 |
|--------|----------|-----------|
| 캐릭터 컨트롤러 | 🔴 필수 | `01_core_mechanics.md` |
| 8방향 이동 | 🔴 필수 | - |
| 기본 공격 (3타 콤보) | 🔴 필수 | `10_skill_specs.md` |
| 방어/회피 | 🔴 필수 | `10_skill_specs.md` |
| 애니메이션 연동 | 🔴 필수 | - |

### Week 3-4: 시간 스킬
| 태스크 | 우선순위 | 참조 문서 |
|--------|----------|-----------|
| 크로노 시프트 구현 | 🔴 필수 | `10_skill_specs.md` |
| 저스트 회피 판정 | 🔴 필수 | `08_balance_sheet.md` |
| 타임 앵커 구현 | 🔴 필수 | `10_skill_specs.md` |
| 필드 이펙트 | 🟡 중요 | - |

### Week 5-6: 고급 스킬
| 태스크 | 우선순위 | 참조 문서 |
|--------|----------|-----------|
| 리와인드 시스템 | 🔴 필수 | `10_skill_specs.md` |
| 오브젝트 상태 기록 | 🔴 필수 | - |
| 에코 클론 | 🟡 중요 | `10_skill_specs.md` |
| 플레이어 동작 기록/재생 | 🟡 중요 | - |
| 노화 시스템 | 🔴 필수 | `08_balance_sheet.md` |

### 핵심 ScriptableObject
```csharp
// SkillData.cs
[CreateAssetMenu(fileName = "Skill", menuName = "Game/SkillData")]
public class SkillData : ScriptableObject
{
    public string skillId;
    public string skillName;
    public int tpCost;
    public float cooldown;
    public float duration;
    // 10_skill_specs.md 참조
}
```

---

## Phase 2: 전투 시스템 (4주)

### Week 1-2: 적 시스템
| 태스크 | 우선순위 | 참조 문서 |
|--------|----------|-----------|
| 적 베이스 클래스 | 🔴 필수 | `05_enemies_bosses.md` |
| 틱톡커 구현 | 🔴 필수 | `08_balance_sheet.md` |
| 과거의 망령 구현 | 🟡 중요 | `08_balance_sheet.md` |
| 보이드 글리치 구현 | 🟡 중요 | `08_balance_sheet.md` |
| 적 스폰 시스템 | 🔴 필수 | `11_level_data.md` |

### Week 3-4: 데미지/보스
| 태스크 | 우선순위 | 참조 문서 |
|--------|----------|-----------|
| 데미지 계산 시스템 | 🔴 필수 | `08_balance_sheet.md` |
| 상태이상 시스템 | 🔴 필수 | `08_balance_sheet.md` |
| 보스 베이스 클래스 | 🔴 필수 | `05_enemies_bosses.md` |
| 페이즈 전환 시스템 | 🟡 중요 | `11_level_data.md` |
| 시간 먹는 자 (1장 보스) | 🔴 필수 | `05_enemies_bosses.md` |

### 데미지 공식 구현
```csharp
// DamageCalculator.cs
public static int Calculate(int atk, float skillMultiplier, float bonus, int targetDef)
{
    int raw = Mathf.RoundToInt(atk * skillMultiplier * bonus);
    int final = Mathf.Max(1, raw - targetDef);
    return final;
}
```

---

## Phase 3: 레벨 디자인 (6주)

### Week 1-2: 맵 시스템
| 태스크 | 우선순위 | 참조 문서 |
|--------|----------|-----------|
| 타일맵 설정 | 🔴 필수 | - |
| 프롤로그 맵 (다락방) | 🔴 필수 | `11_level_data.md` |
| 씬 전환 시스템 | 🔴 필수 | - |
| 카메라 시스템 | 🔴 필수 | Cinemachine |

### Week 3-4: 1장/2장 맵
| 태스크 | 우선순위 | 참조 문서 |
|--------|----------|-----------|
| 미래 도시 맵 | 🔴 필수 | `11_level_data.md` |
| 과거 마을 맵 | 🔴 필수 | `11_level_data.md` |
| 던전 시스템 | 🟡 중요 | `11_level_data.md` |
| 숨겨진 구역 | 🟢 선택 | `11_level_data.md` |

### Week 5-6: 퍼즐/기믹
| 태스크 | 우선순위 | 참조 문서 |
|--------|----------|-----------|
| 시간 역전 기믹 | 🔴 필수 | `03_puzzle_system.md` |
| 과거/현재 레이어 | 🔴 필수 | `03_puzzle_system.md` |
| 스위치/문 시스템 | 🟡 중요 | - |
| 환경 위험요소 | 🟡 중요 | `11_level_data.md` |

---

## Phase 4: 스토리/연출 (4주)

### Week 1-2: 대화 시스템
| 태스크 | 우선순위 | 참조 문서 |
|--------|----------|-----------|
| 대화 매니저 | 🔴 필수 | - |
| 선택지 시스템 | 🔴 필수 | `00_prologue.md` |
| 캐릭터 초상화 | 🟡 중요 | `12_ui_sound_guide.md` |
| 텍스트 타이핑 효과 | 🟢 선택 | - |

### Week 3-4: 연출/분기
| 태스크 | 우선순위 | 참조 문서 |
|--------|----------|-----------|
| 컷신 시스템 | 🟡 중요 | Timeline |
| 스토리 플래그 관리 | 🔴 필수 | `05_endings.md` |
| 엔딩 분기 로직 | 🔴 필수 | `05_endings.md` |
| 히든 조건 체크 | 🟡 중요 | `07_hidden_clockmaker.md` |

---

## Phase 5: 폴리싱/QA (4-6주)

### Week 1-2: UI/UX
| 태스크 | 우선순위 | 참조 문서 |
|--------|----------|-----------|
| HUD 구현 | 🔴 필수 | `12_ui_sound_guide.md` |
| 메뉴 시스템 | 🔴 필수 | `12_ui_sound_guide.md` |
| 인벤토리 UI | 🟡 중요 | - |
| 스킬 트리 UI | 🟡 중요 | `09_economy.md` |

### Week 3-4: 사운드/밸런싱
| 태스크 | 우선순위 | 참조 문서 |
|--------|----------|-----------|
| 오디오 매니저 | 🔴 필수 | - |
| BGM 연동 | 🔴 필수 | `12_ui_sound_guide.md` |
| SFX 연동 | 🔴 필수 | `12_ui_sound_guide.md` |
| 난이도 밸런싱 | 🔴 필수 | `08_balance_sheet.md` |

### Week 5-6: 최적화/빌드
| 태스크 | 우선순위 |
|--------|----------|
| 프로파일링 | 🔴 필수 |
| 메모리 최적화 | 🟡 중요 |
| 빌드 테스트 | 🔴 필수 |
| 버그 수정 | 🔴 필수 |

---

## 권장 유니티 패키지

| 패키지 | 용도 | 필수 여부 |
|--------|------|-----------|
| **Cinemachine** | 카메라 제어 | 🔴 필수 |
| **Timeline** | 컷신 연출 | 🟡 중요 |
| **DOTween** | 트윈 애니메이션 | 🔴 필수 |
| **TextMeshPro** | UI 텍스트 | 🔴 필수 |
| **Addressables** | 에셋 관리 | 🟢 선택 |
| **ProBuilder** | 레벨 프로토타입 | 🟢 선택 |

---

## 마일스톤

| 마일스톤 | 목표 | 예상 시점 |
|----------|------|-----------|
| **Pre-Alpha** | 코어 메카닉 완성 | 8주차 |
| **Alpha** | 프롤로그~1장 플레이 가능 | 16주차 |
| **Beta** | 전체 스토리 플레이 가능 | 24주차 |
| **Release Candidate** | 폴리싱 완료 | 28주차 |

---

## 팀 구성 권장

| 역할 | 인원 | 담당 |
|------|------|------|
| 프로그래머 | 2-3 | 코어, 전투, UI |
| 아티스트 | 1-2 | 캐릭터, 배경, UI |
| 레벨 디자이너 | 1 | 맵, 퍼즐 |
| 사운드 | 1 | BGM, SFX |
| QA | 1 | 테스트, 밸런싱 |

---

## 주요 기술적 고려사항

### 1. 시간 스킬 구현
```
리와인드 시스템:
- 매 프레임 오브젝트 상태 기록 (위치, HP, 상태)
- 3초(180프레임) 버퍼 유지
- 메모리 최적화: 델타 압축 사용

에코 클론:
- PlayerInput 기록 → 재생
- Transform + Animation 동기화
```

### 2. 노화 시스템
```
노화 게이지: 0-100%
스킬 사용 시 증가
스탯/외형 변화 트리거
세이브 데이터에 포함
```

### 3. 분기 관리
```
스토리 플래그: Dictionary<string, bool>
엔딩 조건: 복합 조건 체크
히든 조건: 별도 시스템
```
