# 퍼즐 시스템 (Puzzle System)

> *"시간을 이해하는 자만이 문을 열 수 있다."*

---

## 1. 퍼즐 개요

### 핵심 컨셉
모든 퍼즐은 **시간 조작 스킬**을 활용하여 해결합니다.
전투와 퍼즐이 자연스럽게 연결되도록 설계합니다.

### 퍼즐 유형

| 유형 | 핵심 스킬 | 예시 |
|------|-----------|------|
| **복원 퍼즐** | 리와인드 | 부서진 다리 복구 |
| **속도 퍼즐** | 타임 앵커 | 빠른 문 통과 |
| **협력 퍼즐** | 에코 클론 | 동시 스위치 |
| **이동 퍼즐** | 크로노 시프트 | 순간이동 구역 |
| **시간축 퍼즐** | 기어 슬롯 | 과거/미래 전환 |

---

## 2. 퍼즐 유형별 상세

### A. 복원 퍼즐 (Restoration)

#### 개념
부서지거나 파괴된 오브젝트를 **리와인드**로 복원합니다.

#### 예시 1: 부서진 다리
```
[전]                    [리와인드]               [후]
 
   ○ 플레이어              ○                      ○→
   │                       │                      │
===╳=== 끊어진 다리    ═══▶═══ 복원 중        ═══════ 통과
   │                       │                      │
```

#### 예시 2: 녹슨 스위치
```
- 녹슨 스위치는 작동하지 않음
- 리와인드로 과거 상태로 복원
- 복원된 스위치 작동 → 문 열림
```

#### 시간 제한 변형
```
복원된 오브젝트가 다시 부서지기 전에 통과해야 함
→ 리와인드 → 빠르게 시프트 → 통과
```

---

### B. 속도 퍼즐 (Speed)

#### 개념
너무 빠르거나 느린 오브젝트를 **타임 앵커**로 조절합니다.

#### 예시 1: 빠른 문
```
[상황]
문이 열렸다가 0.5초 만에 닫힘

[해결]
1. 문 앞에 타임 앵커 설치
2. 문이 느리게 닫힘 (5초)
3. 그 사이에 통과
```

#### 예시 2: 회전 플랫폼
```
[상황]
플랫폼이 너무 빨리 회전

[해결]
                    ┌───┐
1. 앵커 설치       │ A │  ← 앵커 영역
                    └───┘
2. 플랫폼 감속   🔄 (느려짐)
3. 타이밍 맞춰 점프
```

#### 예시 3: 투사체 지나가기
```
[상황]
화살이 계속 발사되는 통로

[해결]
1. 통로에 타임 앵커 설치
2. 화살이 느려짐
3. 화살 사이로 통과
```

---

### C. 협력 퍼즐 (Cooperation)

#### 개념
**에코 클론**으로 2개 이상의 동시 행동이 필요한 퍼즐을 해결합니다.

#### 예시 1: 동시 스위치
```
[상황]
두 스위치를 동시에 밟아야 문이 열림

┌─────────────────────┐
│   [A]         [B]   │  ← 스위치 A, B
│                     │
│        [문]         │  ← 동시 활성화 필요
└─────────────────────┘

[해결]
1. A 스위치 위에서 3초 대기
2. 에코 클론 생성 (잔상이 A를 밟음)
3. 플레이어가 B로 이동
4. 동시 활성화 → 문 열림
```

#### 예시 2: 유인 + 통과
```
[상황]
적이 길을 막고 있음

[해결]
1. 적 앞에서 도발 동작 후 옆으로 이동
2. 에코 클론 생성
3. 잔상이 적을 유인
4. 본체는 반대편으로 통과
```

---

### D. 이동 퍼즐 (Movement)

#### 개념
**크로노 시프트**로만 도달할 수 있는 구역을 통과합니다.

#### 예시 1: 절벽 너머
```
[상황]
너무 먼 거리의 절벽

      ○                    ○
      │                    │
═════════           ════════════
     3m 떨어짐

[해결]
시프트의 거리가 2m → 중간 발판 활용
연속 시프트로 타이밍 맞춰 이동
```

#### 예시 2: 함정 지대
```
[상황]
바닥 전체가 함정

●●●●●●●●●●●●
● 가시 함정  ●
●●●●●●●●●●●●

[해결]
시프트 중 무적 프레임 활용
정확한 타이밍으로 시프트 연속 사용
```

---

### E. 시간축 퍼즐 (Timeline)

#### 개념
**다락방 기어 슬롯**을 조작하여 과거/미래를 전환합니다.

#### 예시 1: 과거의 문
```
[현재]
문이 봉인되어 열리지 않음

[과거로 이동]
봉인되기 전 → 문이 열림 → 안의 아이템 획득

[현재로 복귀]
아이템은 소지한 채로
```

#### 예시 2: 미래의 나무
```
[현재]
묘목 상태, 올라갈 수 없음

[미래로 이동]
묘목 → 거목으로 성장 → 올라가서 위쪽 구역 진입
```

#### 예시 3: 인과 역전 퍼즐
```
[미래]
부서진 조각상 발견, 조각 파편 수집

[과거로 이동]
조각상이 멀쩡함 → 파편을 "놓으면" 미래에도 멀쩡해짐

[현재로 복귀]
복원된 조각상 → 새로운 길 개방
```

---

## 3. 던전별 퍼즐 테마

### 쇠락의 정원
| 테마 | 퍼즐 예시 |
|------|-----------|
| 부식/풍화 | 빠르게 부서지는 발판 → 타임 앵커로 유지 |
| 노화 | 시든 나무를 리와인드로 살려 길 생성 |
| 가속 | 빠르게 움직이는 적을 회피 |

### 영원의 순간
| 테마 | 퍼즐 예시 |
|------|-----------|
| 정지 | 멈춘 물방울을 발판 삼아 이동 |
| 느림 | 느린 적의 패턴 파악 후 통과 |
| 동기화 | 느린 기어와 속도 맞추기 |

### 불안정 지대
| 테마 | 퍼즐 예시 |
|------|-----------|
| 가변 속도 | 구역마다 다른 속도에 적응 |
| 랜덤 시간 | 예측 불가능한 상황 대응 |
| 경계선 | 속도가 다른 구역 경계 활용 |

---

## 4. 퍼즐 힌트 시스템

### 시각적 힌트
```
- 리와인드 대상: 금색 테두리로 표시
- 앵커 유효 구역: 파란색 바닥 표시
- 클론 필요: 복제 아이콘 표시
```

### 단계적 힌트
```
[1단계] 스킬 아이콘 깜빡임 (5초 후)
[2단계] 말풍선으로 "이 스킬을 써보자" (30초 후)
[3단계] 해결 방향 텍스트 안내 (1분 후)
[4단계] 스킵 옵션 제공 (난이도 "스토리"만)
```
