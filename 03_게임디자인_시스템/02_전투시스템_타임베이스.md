# 전투 시스템 (Combat System)

> *"시간을 다루는 자, 싸움에서도 한 수 앞을 본다."*

---

## 1. 전투 개요

### 기본 컨셉
"시간 조작 + 액션"을 결합한 전투 시스템입니다.
단순한 공격-회피가 아닌, **시간 스킬을 활용한 전술적 플레이**를 유도합니다.

### 전투 리듬
```
[관찰] → [시간 조작] → [공격] → [회수] → 반복

예시:
적 패턴 파악 → 타임 앵커로 느리게 → 접근 후 공격 → 시프트로 이탈
```

---

## 2. 기본 공격

### 무기: 시계바늘 레이피어 & 렌치

#### 공격 모션

| 입력 | 모션 | 데미지 | 특성 |
|------|------|--------|------|
| **X (1타)** | 레이피어 찌르기 | 10 | 빠름, 짧은 사거리 |
| **X (2타)** | 레이피어 베기 | 15 | 약간 넓은 범위 |
| **X (3타)** | 렌치 내려치기 | 25 | 느림, 경직 유발 |
| **홀드 X** | 차지 공격 | 40 | 시간 잔상 추가 |

#### 콤보 시스템
```
[기본 콤보]
X → X → X (3연타)

[캔슬 콤보]
X → X → Shift (대시 캔슬) → X → X → X

[시간 콤보]
X → X → R (에코 생성) → 잔상과 함께 공격
```

---

## 3. 방어 메커니즘

### A. 크로노 시프트 (회피)

| 타입 | 조건 | 효과 |
|------|------|------|
| **일반 회피** | 언제든 | 무적 0.2초 |
| **저스트 회피** | 피격 직전 | 불릿 타임 2초 |

### B. 시계 뚜껑 (패링)

| 타입 | 조건 | 효과 |
|------|------|------|
| **일반 방어** | 홀드 | 데미지 50% 감소 |
| **저스트 패링** | 피격 타이밍 | 적 1초 정지 + 반격 기회 |

### C. 리와인드 (자가 회복)

| 타입 | 조건 | 효과 |
|------|------|------|
| **긴급 복구** | HP 30% 이하 | 3초 전 HP로 복귀 |
| **주의** | - | 노화 가속, 쿨타임 김 |

---

## 4. 시간 기반 전투 기법

### 기법 1: 타임 트랩
```
[상황] 다수의 적이 돌진
[대응]
1. 타임 앵커 설치 (적 경로에)
2. 적들이 느려진 상태로 진입
3. 차지 공격으로 한꺼번에 처리
```

### 기법 2: 리플렉트 카운터
```
[상황] 적이 투사체 발사
[대응]
1. 투사체 접근 시 리와인드
2. 투사체가 발사자에게 되돌아감
3. 2배 데미지 + 경직
```

### 기법 3: 에코 샌드위치
```
[상황] 강적 1:1 대결
[대응]
1. 적 뒤로 이동하며 공격
2. 에코 클론 생성
3. 내 위치에서 추가 공격
4. 잔상이 뒤에서, 나는 앞에서 협공
5. 협공 보너스 +30%
```

### 기법 4: 불릿 타임 러시
```
[상황] 보스의 강력한 공격
[대응]
1. 저스트 회피 성공
2. 불릿 타임 2초 발동
3. 보스가 느린 동안 최대한 공격
4. 불릿 타임 종료 전 시프트로 이탈
```

---

## 5. 적 행동 패턴

### 기본 적 AI

| 적 타입 | 패턴 | 대응 |
|---------|------|------|
| **틱톡커** | 박자 맞춰 돌진 | 박자 예측 후 회피 |
| **과거의 망령** | 시대 혼합 공격 | 패턴 분석 |
| **보이드 글리치** | 물리 면역 | 시간 스킬로만 타격 |

### 적 타입별 약점

| 적 타입 | 약점 | 효과적인 스킬 |
|---------|------|---------------|
| **속도형** | 타임 앵커 | 느려지면 무력화 |
| **방어형** | 리와인드 | 투사체 반사 |
| **다수 소환** | 에코 클론 | 다중 처리 |
| **시간 왜곡형** | 시프트 | 패턴 회피 |

---

## 6. 데미지 계산

### 기본 공식
```
최종 데미지 = (기본 공격력 × 스킬 배율) × 상태 보너스 - 적 방어력
```

### 상태 보너스

| 상태 | 배율 |
|------|------|
| 일반 | ×1.0 |
| 불릿 타임 중 | ×1.2 |
| 저스트 패링 후 | ×1.5 |
| 에코 협공 | ×1.3 |
| 크리티컬 (랜덤) | ×2.0 |

---

## 7. 스테이터스 이상

### 시간 기반 상태이상

| 상태 | 효과 | 지속 |
|------|------|------|
| **시간 정지** | 행동 불가 | 1-3초 |
| **시간 감속** | 속도 50% | 5초 |
| **시간 가속** | 속도 150%, 제어 어려움 | 3초 |
| **시간 역전** | 이동 방향 반대 | 2초 |
| **노화** | 스탯 감소 | 영구 (회복 가능) |

---

## 8. 전투 난이도

### 난이도 옵션

| 난이도 | 적 HP | 적 데미지 | 저스트 타이밍 |
|--------|-------|-----------|---------------|
| **스토리** | 50% | 50% | 넓음 (0.5초) |
| **일반** | 100% | 100% | 보통 (0.3초) |
| **도전** | 150% | 150% | 좁음 (0.2초) |
| **시계공** | 200% | 200% | 극좁음 (0.1초) |

---

## 요약: 전투 흐름도

```
┌─────────────────────────────────────────────┐
│              전투 시작                       │
└──────────────────┬──────────────────────────┘
                   │
          ┌────────▼────────┐
          │   적 패턴 관찰   │
          └────────┬────────┘
                   │
    ┌──────────────┼──────────────┐
    │              │              │
    ▼              ▼              ▼
[근접 공격]    [시간 스킬]    [회피/방어]
    │              │              │
    └──────────────┼──────────────┘
                   │
          ┌────────▼────────┐
          │  저스트 타이밍?  │
          └────────┬────────┘
           예      │      아니오
    ┌──────────────┴──────────────┐
    │                             │
    ▼                             ▼
[보너스 효과]              [일반 진행]
    │                             │
    └──────────────┬──────────────┘
                   │
          ┌────────▼────────┐
          │   적 처치 확인   │
          └────────┬────────┘
                   │
          ┌────────▼────────┐
          │    전투 종료     │
          └──────────────────┘
```
